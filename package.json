{
	"name": "kikaku-os",
	"private": true,
	"packageManager": "pnpm@10.29.3",
	"engines": {
		"node": ">=20"
	},
	"scripts": {
		"dev": "concurrently -n api,store -c blue,green \"pnpm -C apps/api dev\" \"pnpm -C apps/storefront dev\"",
		"dev:api": "pnpm -C apps/api dev --port 8787",
		"dev:store": "pnpm -C apps/storefront dev",
		"build": "pnpm -C apps/api build && pnpm -C apps/storefront build",
		"build:api": "pnpm -C apps/api build",
		"build:store": "pnpm -C apps/storefront build",
		"test": "pnpm -C apps/api test",
		"test:e2e:seed-ui": "bash scripts/e2e-seed-ui.sh",
		"test:e2e:seed-ui:headed": "bash scripts/e2e-seed-ui.sh --headed",
		"typecheck": "pnpm -C apps/api typecheck",
		"env:setup": "node scripts/setup-env.mjs",
		"db:migrate": "pnpm -C apps/api exec wrangler d1 migrations apply ledkikaku-os --local",
		"db:seed": "curl -X POST http://localhost:8787/dev/seed -H 'x-admin-key: CHANGE_ME' -H 'content-type: application/json' -d '{\"date\":\"2026-01-15\",\"orders\":5,\"refunds\":1}'",
		"runner:install": "mkdir -p ~/actions-runner && cd ~/actions-runner && curl -o actions-runner-linux-x64-2.322.0.tar.gz -L https://github.com/actions/runner/releases/download/v2.322.0/actions-runner-linux-x64-2.322.0.tar.gz && tar xzf actions-runner-linux-x64-2.322.0.tar.gz",
		"runner:configure": "cd ~/actions-runner && ./config.sh --url https://github.com/nicekikaku/kikaku-os --labels self-hosted,Linux,X64",
		"runner:start": "cd ~/actions-runner && ./run.sh",
		"runner:start:bg": "cd ~/actions-runner && nohup ./run.sh > runner.log 2>&1 &",
		"runner:stop": "cd ~/actions-runner && ./svc.sh stop || pkill -f 'Runner.Listener'",
		"runner:status": "cd ~/actions-runner && ./svc.sh status 2>/dev/null || (ps aux | grep -v grep | grep Runner.Listener && echo 'Runner is running' || echo 'Runner is NOT running')",
		"runner:logs": "tail -f ~/actions-runner/runner.log 2>/dev/null || tail -f ~/actions-runner/_diag/Runner_*.log",
		"runner:uninstall": "cd ~/actions-runner && ./config.sh remove && rm -rf ~/actions-runner"
	},
	"devDependencies": {
		"@axe-core/playwright": "^4.11.1",
		"@playwright/test": "^1.58.2",
		"concurrently": "^9.1.2",
		"playwright": "^1.57.0"
	}
}
