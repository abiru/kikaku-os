---
import Layout from '../layouts/Layout.astro';
import Container from '../components/Container.astro';
import { t } from '../i18n';

const popularCategories = [
	{ slug: 'led-grow-lights', label: 'LED Grow Lights' },
	{ slug: 'led-panels', label: 'LED Panels' },
	{ slug: 'accessories', label: 'Accessories' },
	{ slug: 'controllers', label: 'Controllers' },
];
---

<Layout title={`${t('errors.notFoundCode')} - ${t('errors.notFound')}`}>
	<div class="min-h-[60vh] flex items-center justify-center py-20">
		<Container>
			<div class="text-center max-w-2xl mx-auto">
				{/* Illustration */}
				<div class="mx-auto mb-6">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						viewBox="0 0 240 160"
						class="mx-auto h-40 w-60"
						aria-hidden="true"
					>
						<rect width="240" height="160" fill="none" />
						{/* Map/compass illustration */}
						<circle cx="120" cy="70" r="50" fill="#f5f5f7" stroke="#d2d2d7" stroke-width="1.5" />
						<circle cx="120" cy="70" r="40" fill="none" stroke="#d2d2d7" stroke-width="1" stroke-dasharray="4 3" />
						{/* Compass needle */}
						<path d="M120 35 L125 70 L120 75 L115 70 Z" fill="#0071e3" opacity="0.8" />
						<path d="M120 105 L125 70 L120 65 L115 70 Z" fill="#d2d2d7" />
						<circle cx="120" cy="70" r="4" fill="white" stroke="#0071e3" stroke-width="1.5" />
						{/* Question mark */}
						<text x="120" y="145" text-anchor="middle" font-size="18" font-weight="600" fill="#86868b" font-family="system-ui, sans-serif">?</text>
					</svg>
				</div>

				<p class="text-[80px] md:text-[120px] font-bold text-[#d2d2d7] leading-none select-none" aria-hidden="true">
					{t('errors.notFoundCode')}
				</p>
				<h1 class="mt-4 text-[28px] md:text-[32px] font-semibold text-primary tracking-tight">
					{t('errors.notFound')}
				</h1>
				<p class="mt-3 text-[17px] text-secondary leading-relaxed">
					{t('errors.notFoundMessage')}
				</p>

				{/* Search hint */}
				<p class="mt-4 text-[14px] text-muted">
					{t('errors.notFoundSearchHint')}
				</p>

				{/* Action buttons */}
				<div class="mt-8 flex flex-col sm:flex-row items-center justify-center gap-3">
					<a
						href="/"
						class="inline-flex items-center gap-2 px-6 py-3 bg-brand text-white text-[15px] font-medium rounded-full hover:bg-brand-hover transition-colors"
					>
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
						{t('errors.backToHome')}
					</a>
					<button
						id="search-trigger-btn"
						type="button"
						class="inline-flex items-center gap-2 px-6 py-3 border border-[#d2d2d7] text-primary text-[15px] font-medium rounded-full hover:bg-subtle transition-colors"
					>
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
						{t('errors.searchProducts')}
					</button>
				</div>

				{/* Popular categories */}
				<div class="mt-12 border-t border-[#d2d2d7]/40 pt-8">
					<p class="text-[13px] font-medium text-muted uppercase tracking-wider mb-4">
						{t('errors.popularCategories')}
					</p>
					<div class="flex flex-wrap items-center justify-center gap-2">
						{popularCategories.map((cat) => (
							<a
								href={`/categories/${encodeURIComponent(cat.slug)}`}
								class="inline-flex items-center gap-1.5 px-4 py-2 rounded-full bg-white text-[13px] font-medium text-primary border border-[#d2d2d7]/60 hover:border-brand hover:text-brand transition-colors shadow-sm"
							>
								<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
									<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
								</svg>
								{cat.label}
							</a>
						))}
					</div>
				</div>
			</div>
		</Container>
	</div>

	<script>
		document.getElementById('search-trigger-btn')?.addEventListener('click', () => {
			window.dispatchEvent(new CustomEvent('open-search'));
		});
	</script>
</Layout>
