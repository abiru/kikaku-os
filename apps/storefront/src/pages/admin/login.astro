---
export const prerender = false;

import '../../styles/global.css';
import { Alert } from '../../components/catalyst/alert-banner';
import { Button } from '../../components/catalyst/button';
import { Heading } from '../../components/catalyst/heading';
import { SignIn, SignedIn, SignedOut } from '@clerk/astro/components';
import { t } from '../../i18n';
---

<!doctype html>
<html lang="ja" class="h-full bg-zinc-50">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<title>{`${t('common.login')} - Led Kikaku OS`}</title>
	</head>
	<body class="h-full font-sans antialiased">
		<div class="min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8">
			<div class="sm:mx-auto sm:w-full sm:max-w-md">
				<Heading className="text-center">
					Led Kikaku OS
				</Heading>
				<p class="mt-2 text-center text-sm text-zinc-600">
					{t('admin.adminPanel')}
				</p>
			</div>

			<div class="mt-8 sm:mx-auto sm:w-full sm:max-w-md">
				<div class="bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10">
					<!-- Social login buttons appear automatically when OAuth providers
					     are enabled in the Clerk Dashboard (see sign-in.astro for details) -->
					<SignedOut>
						<div class="flex justify-center">
							<SignIn
								routing="hash"
								forceRedirectUrl="/admin/"
								appearance={{
									variables: { colorPrimary: '#4f46e5' },
									elements: {
										socialButtonsBlockButton: 'min-h-[44px]',
										socialButtonsBlockButtonText: 'font-medium',
									},
								}}
							/>
						</div>
					</SignedOut>
					<SignedIn>
						<div class="text-center">
							<p class="text-zinc-600 mb-4">{t('admin.alreadySignedIn')}</p>
							<Button href="/admin/" color="indigo" client:load>
								{t('admin.goToAdminDashboard')}
							</Button>
						</div>
					</SignedIn>
				</div>
			</div>
		</div>
	</body>
</html>
