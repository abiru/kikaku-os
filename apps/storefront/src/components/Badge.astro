---
type BadgeVariant = 'info' | 'secondary' | 'warn' | 'new' | 'critical';

interface Props {
	severity?: BadgeVariant;
	variant?: BadgeVariant; // Alias for severity
	size?: 'sm' | 'md' | 'lg'; // Accepted but not used (for API compatibility)
	class?: string;
}

const { severity, variant, class: className = '' } = Astro.props;
// Use variant as alias for severity if severity is not provided
const effectiveSeverity = severity ?? variant ?? 'info';

// Apple-style: Very subtle, text-forward, or simple colored dots.
const variants = {
	info: 'text-[#1d1d1f] border-[#d2d2d7] bg-white',
	secondary: 'text-[#86868b] border-transparent bg-[#f5f5f7]',
	warn: 'text-amber-600 border-amber-200 bg-amber-50',
    new: 'text-[#bf4800] border-transparent', // Apple's "New" orange text often has no bg
	critical: 'text-red-600 border-red-200 bg-red-50'
};

const classes = `${variants[effectiveSeverity]} ${className}`;
---

<span class={`inline-flex items-center rounded-full border px-2.5 py-0.5 text-[10px] font-medium leading-4 ${classes}`}>
	<slot />
</span>
