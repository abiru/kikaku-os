---
type BadgeVariant = 'info' | 'secondary' | 'warn' | 'new' | 'critical';

interface Props {
	severity?: BadgeVariant;
	variant?: BadgeVariant; // Alias for severity
	size?: 'sm' | 'md' | 'lg'; // Accepted but not used (for API compatibility)
	class?: string;
}

const { severity, variant, class: className = '' } = Astro.props;
// Use variant as alias for severity if severity is not provided
const effectiveSeverity = severity ?? variant ?? 'info';

const variants = {
	info: 'text-emerald-700 border-emerald-500/20 bg-emerald-50 ring-1 ring-inset ring-emerald-500/20',
	secondary: 'text-zinc-600 border-transparent bg-zinc-100 ring-1 ring-inset ring-zinc-500/10',
	warn: 'text-amber-700 border-amber-500/20 bg-amber-50 ring-1 ring-inset ring-amber-500/20',
	new: 'text-sky-700 border-sky-500/20 bg-sky-50 ring-1 ring-inset ring-sky-500/20',
	critical: 'text-rose-700 border-rose-500/20 bg-rose-50 ring-1 ring-inset ring-rose-500/20'
};

const classes = `${variants[effectiveSeverity]} ${className}`;
---

<span class={`inline-flex items-center rounded-full border-0 px-2 py-0.5 text-[11px] font-medium leading-4 ${classes}`}>
	<slot />
</span>
