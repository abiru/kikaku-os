---
import { Fieldset, Field } from '../catalyst/fieldset';
import { Input } from '../catalyst/input';
import { Select } from '../catalyst/select';

interface Props {
	orderId: string;
	orderStatus: string;
}

const { orderId, orderStatus } = Astro.props;
---

{/* Create Fulfillment Modal */}
<div id="create-fulfillment-modal" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
	<div class="bg-white rounded-xl shadow-2xl w-full max-w-md">
		<div class="p-6 border-b border-gray-100">
			<h3 class="text-lg font-semibold text-zinc-950">Create Fulfillment</h3>
			<p class="text-sm text-[#86868b] mt-1">Order #{orderId}</p>
		</div>
		<form id="create-fulfillment-form" class="p-6 space-y-4">
			<Fieldset client:load>
			<Field>
				<label for="create-status" data-slot="label" class="text-base/6 font-medium text-zinc-950 select-none sm:text-sm/6">Status</label>
				<Select client:load id="create-status" name="status">
					<option value="pending">Pending</option>
					<option value="processing">Processing</option>
					<option value="shipped">Shipped</option>
					<option value="delivered">Delivered</option>
				</Select>
			</Field>

			<Field>
				<label for="create-carrier" data-slot="label" class="text-base/6 font-medium text-zinc-950 select-none sm:text-sm/6">配送業者</label>
				<Select client:load id="create-carrier" name="carrier">
					<option value="">選択してください</option>
					<option value="ヤマト運輸">ヤマト運輸</option>
					<option value="佐川急便">佐川急便</option>
					<option value="日本郵便">日本郵便</option>
					<option value="other">その他</option>
				</Select>
			</Field>

			<Field id="create-custom-carrier-field" className="hidden">
				<label for="create-custom-carrier" data-slot="label" class="text-base/6 font-medium text-zinc-950 select-none sm:text-sm/6">配送業者名</label>
				<Input client:load
					type="text"
					id="create-custom-carrier"
					name="custom_carrier"
					placeholder="配送業者名を入力"
				/>
			</Field>

			<Field>
				<label for="create-tracking" data-slot="label" class="text-base/6 font-medium text-zinc-950 select-none sm:text-sm/6">追跡番号</label>
				<Input client:load
					type="text"
					id="create-tracking"
					name="tracking_number"
					placeholder="追跡番号を入力（任意）"
				/>
			</Field>

			</Fieldset>

			<div id="create-error" class="hidden bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm"></div>

			<div class="flex justify-end gap-3 pt-4 border-t border-gray-100">
				<button
					type="button"
					id="cancel-create-btn"
					class="px-4 py-2 text-sm font-medium text-zinc-950 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"
				>
					Cancel
				</button>
				<button
					type="submit"
					class="px-4 py-2 text-sm font-medium text-white bg-[#0071e3] rounded-lg hover:bg-[#0077ED] transition-colors"
				>
					Create
				</button>
			</div>
		</form>
	</div>
</div>

{/* Edit Fulfillment Modal */}
<div id="edit-fulfillment-modal" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
	<div class="bg-white rounded-xl shadow-2xl w-full max-w-md">
		<div class="p-6 border-b border-gray-100">
			<h3 class="text-lg font-semibold text-zinc-950">Edit Fulfillment</h3>
			<p id="edit-subtitle" class="text-sm text-[#86868b] mt-1"></p>
		</div>
		<form id="edit-fulfillment-form" class="p-6 space-y-4">
			<input type="hidden" id="edit-fulfillment-id" name="fulfillmentId" />

			<Fieldset client:load>
			<Field>
				<label for="edit-status" data-slot="label" class="text-base/6 font-medium text-zinc-950 select-none sm:text-sm/6">Status</label>
				<Select client:load id="edit-status" name="status">
					<option value="pending">Pending</option>
					<option value="processing">Processing</option>
					<option value="shipped">Shipped</option>
					<option value="delivered">Delivered</option>
					<option value="cancelled">Cancelled</option>
				</Select>
			</Field>

			<Field>
				<label for="edit-carrier" data-slot="label" class="text-base/6 font-medium text-zinc-950 select-none sm:text-sm/6">配送業者</label>
				<Select client:load id="edit-carrier" name="carrier">
					<option value="">選択してください</option>
					<option value="ヤマト運輸">ヤマト運輸</option>
					<option value="佐川急便">佐川急便</option>
					<option value="日本郵便">日本郵便</option>
					<option value="other">その他</option>
				</Select>
			</Field>

			<Field id="edit-custom-carrier-field" className="hidden">
				<label for="edit-custom-carrier" data-slot="label" class="text-base/6 font-medium text-zinc-950 select-none sm:text-sm/6">配送業者名</label>
				<Input client:load
					type="text"
					id="edit-custom-carrier"
					name="custom_carrier"
					placeholder="配送業者名を入力"
				/>
			</Field>

			<Field>
				<label for="edit-tracking" data-slot="label" class="text-base/6 font-medium text-zinc-950 select-none sm:text-sm/6">追跡番号</label>
				<Input client:load
					type="text"
					id="edit-tracking"
					name="tracking_number"
					placeholder="追跡番号を入力（任意）"
				/>
			</Field>
			</Fieldset>

			<div id="edit-error" class="hidden bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm"></div>

			<div class="flex justify-end gap-3 pt-4 border-t border-gray-100">
				<button
					type="button"
					id="cancel-edit-btn"
					class="px-4 py-2 text-sm font-medium text-zinc-950 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"
				>
					Cancel
				</button>
				<button
					type="submit"
					class="px-4 py-2 text-sm font-medium text-white bg-[#0071e3] rounded-lg hover:bg-[#0077ED] transition-colors"
				>
					Save
				</button>
			</div>
		</form>
	</div>
</div>
