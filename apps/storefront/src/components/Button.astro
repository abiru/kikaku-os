---
const {
	variant = 'primary',
	size = 'md',
	href,
	type = 'button',
	class: className = '',
	disabled = false,
	...rest
} = Astro.props;

// Apple-style base: Pill shape, smooth font, refined transitions with subtle scale
const base =
	'inline-flex items-center justify-center whitespace-nowrap rounded-full font-medium transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#0071e3] focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50';

const variants = {
	// Apple Blue for primary actions
	primary: 'bg-[#0071e3] text-white hover:bg-[#0077ED]', 
	// Standard dark for secondary
	dark: 'bg-[#1d1d1f] text-white hover:bg-[#1d1d1f]/90',
	// Minimalist outline/secondary
	secondary: 'bg-white text-[#1d1d1f] hover:text-[#0071e3] shadow-sm',
	// Ghost link style
	link: 'text-[#0071e3] hover:underline underline-offset-4',
    outline: 'border border-[#d2d2d7] bg-transparent text-[#1d1d1f] hover:border-[#86868b]'
};

const sizes = {
	sm: 'h-7 px-3 text-[12px]',
	md: 'h-9 px-5 text-[14px]',
	lg: 'h-11 px-8 text-[17px]', // Larger, typical for "Buy" buttons
    icon: 'h-10 w-10'
};

const classes = `${base} ${variants[variant] ?? variants.primary} ${sizes[size] ?? sizes.md} ${className}`;
---

{href && !disabled ? (
	<a href={href} class={classes} {...rest}>
		<slot />
	</a>
) : (
	<button type={type} class={classes} disabled={disabled} {...rest}>
		<slot />
	</button>
)}
