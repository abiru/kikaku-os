---
import Container from './Container.astro';
import NewsletterForm from './NewsletterForm';
import { t } from '../i18n';
---

<footer role="contentinfo">
  {/* Newsletter band */}
  <div class="bg-neutral-900" data-reveal>
    <Container>
      <div class="py-12 sm:py-16 flex flex-col items-center text-center">
        <h2 class="text-lg font-semibold text-white sm:text-xl">
          {t('newsletter.title')}
        </h2>
        <p class="mt-2 text-sm text-neutral-400 max-w-md">
          {t('newsletter.description')}
        </p>
        <div class="mt-6 w-full max-w-md">
          <NewsletterForm client:idle />
        </div>
      </div>
    </Container>
  </div>

  {/* Footer links */}
  <div class="bg-subtle shadow-[0_-1px_3px_rgba(0,0,0,0.04)] py-10 text-xs text-secondary">
    <Container>
      <div class="grid grid-cols-2 gap-8 md:grid-cols-4 mb-8">
        <div class="space-y-3">
          <h3 class="font-semibold text-primary">{t('footer.shopAndLearn')}</h3>
          <ul class="space-y-0">
            <li><a href="/products" class="inline-block py-1.5 hover:underline">{t('footer.store')}</a></li>
            <li><a href="/products?sort=newest" class="inline-block py-1.5 hover:underline">{t('footer.newProducts')}</a></li>
            <li><a href="/categories" class="inline-block py-1.5 hover:underline">{t('footer.categories')}</a></li>
          </ul>
        </div>
        <div class="space-y-3">
          <h3 class="font-semibold text-primary">{t('footer.support')}</h3>
          <ul class="space-y-0">
            <li><a href="/contact" class="inline-block py-1.5 hover:underline">{t('footer.contact')}</a></li>
            <li><a href="/order-status" class="inline-block py-1.5 hover:underline">{t('footer.orderStatus')}</a></li>
            <li><a href="/faq" class="inline-block py-1.5 hover:underline">{t('footer.faq')}</a></li>
          </ul>
        </div>
        <div class="space-y-3">
          <h3 class="font-semibold text-primary">{t('footer.about')}</h3>
          <ul class="space-y-0">
            <li><a href="/about" class="inline-block py-1.5 hover:underline">{t('footer.aboutCompany')}</a></li>
            <li><a href="/legal" class="inline-block py-1.5 hover:underline">{t('footer.legalNotice')}</a></li>
            <li><a href="/privacy" class="inline-block py-1.5 hover:underline">{t('footer.privacyPolicy')}</a></li>
            <li><a href="/shipping" class="inline-block py-1.5 hover:underline">{t('footer.shippingPolicy')}</a></li>
          </ul>
        </div>
        <div class="space-y-3">
          <h3 class="font-semibold text-primary">{t('footer.business')}</h3>
          <ul class="space-y-0">
            <li><a href="/quotations/new" class="inline-block py-1.5 hover:underline">{t('footer.quotation')}</a></li>
            <li><a href="/faq" class="inline-block py-1.5 hover:underline">{t('footer.faq')}</a></li>
          </ul>
        </div>
      </div>

      <nav class="pt-4 border-t border-neutral-200 flex flex-col md:flex-row justify-between items-center gap-4" aria-label="フッターリンク">
        <p>{t('footer.copyright').replace('{year}', String(new Date().getFullYear()))}</p>
        <div class="flex flex-wrap items-center gap-x-2 gap-y-1 text-xs">
          <a href="/legal" class="inline-block py-1.5 hover:underline">{t('footer.legalNotice')}</a>
          <span class="text-neutral-300" aria-hidden="true">&middot;</span>
          <a href="/privacy" class="inline-block py-1.5 hover:underline">{t('footer.privacyPolicy')}</a>
          <span class="text-neutral-300" aria-hidden="true">&middot;</span>
          <a href="/terms" class="inline-block py-1.5 hover:underline">{t('footer.termsOfUse')}</a>
          <span class="text-neutral-300" aria-hidden="true">&middot;</span>
          <a href="/shipping" class="inline-block py-1.5 hover:underline">{t('footer.shippingPolicy')}</a>
          <span class="text-neutral-300" aria-hidden="true">&middot;</span>
          <a href="/refund" class="inline-block py-1.5 hover:underline">{t('footer.refundPolicy')}</a>
          <span class="text-neutral-300" aria-hidden="true">&middot;</span>
          <a href="/contact" class="inline-block py-1.5 hover:underline">{t('footer.contact')}</a>
        </div>
      </nav>
    </Container>
  </div>
</footer>
